File: D:\code_doc_generator\src\doc_generator.py
Type: function
Name: _make_api_call
------------------------------

"""
def _make_api_call(client: Any, messages: List[Dict[str, str]], max_tokens: int) -> Optional[str]:
    """调用DeepSeek API并返回生成的文本内容。

    这是一个辅助函数，用于封装与DeepSeek API的交互逻辑。它会尝试创建聊天补全并返回响应内容，
    如果发生错误则返回None并打印错误信息。

    Args:
        client: DeepSeek API客户端实例，用于发起请求。
        messages: 消息列表，每个消息是一个包含'role'和'content'键的字典。
        max_tokens: 生成内容的最大token数量限制。

    Returns:
        成功时返回API响应的文本内容(去除首尾空格)，失败时返回None。

    Note:
        当前错误处理较为基础，仅打印错误信息。可根据需要添加更具体的错误处理逻辑，
        例如限流或认证错误的特殊处理。
    """
    try:
        response = client.chat.completions.create(
            model=DEEPSEEK_MODEL_NAME,
            messages=messages,
            max_tokens=max_tokens,
            temperature=TEMPERATURE
        )
        return response.choices[0].message.content.strip()
    except Exception as e:
        print(f"    [!] API调用错误: {e}")
        # 可添加更具体的错误处理（例如处理限流、认证错误等）
        return None
"""